<!--
Author: W3layouts
Author URL: http://w3layouts.com
-->
<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Resume View</title>
    <!-- Google fonts -->
    <link href="//fonts.googleapis.com/css2?family=Ubuntu:wght@300;400;500;700&display=swap" rel="stylesheet">
    <!-- Template CSS Style link -->
    <link rel="stylesheet" href="/assets/css/style-starter.css">

    <link href="https://unpkg.com/cropperjs@1.5.13/dist/cropper.min.css" rel="stylesheet">
    <script src="https://unpkg.com/cropperjs@1.5.13/dist/cropper.min.js"></script>

</head>

<body>

<!-- header -->
    <div th:replace="~{header :: header}">...</div>
<!-- //header -->

<!-- inner banner -->
<section class="inner-banner py-5">
    <div class="w3l-breadcrumb py-lg-3">
        <div class="container pt-4 pb-sm-4">
            <h4 class="inner-text-title pt-5">Resume</h4>
            <ul class="breadcrumbs-custom-path">
                <li><a th:href="@{/home}">Home</a></li>
                    <li class="active"><i class="fas fa-angle-right"></i>
                        <a href="javascript:history.back()" class="back-link">
                            <i class="fas fa-arrow-left"></i>
                        </a>
                    </li>
                <li class="active"><i class="fas fa-angle-right"></i>Resume</li>
            </ul>
        </div>
    </div>
    <div class="text-center my-4">
        <a href="/resume/download/pdf" class="btn btn-style mx-2">
            <i class="fas fa-file-pdf"></i> Download PDF
        </a>

        <a href="/resume/download/docx" class="btn btn-style mx-2">
            <i class="fas fa-file-word"></i> Download DOCX
        </a>
    </div>
</section>
<!-- //inner banner -->

<!-- Resume -->
<section class="w3l-timeline-1 py-3">
    <div class="container py-lg-5 py-4">
        <!-- PERSONAL DETAILS -->
        <div class="row">
            <div class="col-lg-6">
                <h5 class="sub-title-timeline"><i class="fas fa-id-card"></i> PERSONAL DETAILS</h5>
                <div class="timeline">
                    <div class="column">
                        <div class="title">
                            <h2><i class="fas fa-signature"></i> Name :</h2>
                        </div>
                        <div class="description">
                            <h6 class="value" th:text="${info.name}"></h6>
                        </div>
                        <br>
                        <div class="title">
                            <h2><i class="fas fa-map-marker-alt"></i> Location :</h2>
                        </div>
                        <div class="description">
                            <h6 class="value" th:text="${info.location}"></h6>
                        </div>
                        <br>
                        <div class="title">
                            <h2><i class="fas fa-envelope"></i> Email :</h2>
                        </div>
                        <div class="description">
                            <h6 class="value" th:text="${info.email}"></h6>
                        </div>
                        <br>
                        <div class="title">
                            <h2><i class="fas fa-phone"></i> Contact :</h2>
                        </div>
                        <div class="description">
                            <h6 class="value" th:text="${info.contact}"></h6>
                        </div>
                        <br>
                        <div class="title">
                            <h2><i class="fab fa-linkedin"></i> LinkedIn :</h2>
                        </div>
                        <div class="description">
                            <a class="btn-link" th:href="${info.linkedin}" th:text="${info.linkedin}"></a>
                        </div>
                        <br>
                        <div class="title">
                            <h2><i class="fab fa-github"></i> Github :</h2>
                        </div>
                        <div class="description">
                            <a class="btn-link" th:href="${info.github}" th:text="${info.github}"></a>
                        </div>
                    </div>
                </div>
            </div>

            <!-- RIGHT SIDE : PROFILE PICTURE -->
            <div class="col-lg-6 d-flex justify-content-center">
                <div class="profile-container">
                    <img th:src="${profileImage != null} ? ${profileImage} : @{/assets/images/profile1.png}"
                         class="profile-img"
                         style="width:320px; height:320px; object-fit:cover; border-radius:50%; border:4px solid #ddd; transition:0.3s;"/>

                    <!-- CHANGE BUTTON -->
                    <label id="changePicButton" for="profileFile" class="change-btn">
                        Change
                    </label>

                    <!-- FILE INPUT -->
                    <input type="file" id="profileFile" accept="image/*" style="display:none;">
                </div>
            </div>
        </div>
        <br>
        <!-- PROFESSIONAL SUMMARY -->
        <div class="row">
            <div class="col-lg-9">
                <h5 class="sub-title-timeline"><i class="fas fa-briefcase"></i> PROFESSIONAL SUMMARY</h5>
                <div class="timeline">
                    <div class="column">
                        <div class="description">
                            <h6 th:text="${summary}"></h6>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <br>
        <!-- PROFESSIONAL EXPERIENCE -->
        <div class="row">
            <div class="col-lg-6">
                <h5 class="sub-title-timeline"><i class="fas fa-code"></i> PROFESSIONAL EXPERIENCE</h5>
                <div class="timeline">
                    <div th:each="exp : ${experiences}" class="column">
                        <div class="title">
                            <h2><i class="fas fa-laptop-code"></i> Role :</h2>
                        </div>
                        <div class="description">
                            <h6 class="exp-role" th:text="${exp.role}"></h6>
                        </div>
                        <br>
                        <div class="title">
                            <h2><i class="fas fa-building"></i> Company :</h2>
                        </div>
                        <div class="description">
                            <h6 class="exp-company" th:text="${exp.company}"></h6>
                        </div>
                        <br>
                        <div class="title">
                            <h2><i class="fas fa-clock"></i> Duration :</h2>
                        </div>
                        <div class="description">
                            <h6 class="exp-duration" th:text="${exp.duration} + ' | ' + ${exp.location}"></h6>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-6 mt-lg-0 mt-4">
                <h5 class="sub-title-timeline"><i class="fas fa-flag"></i> PROJECTS</h5>
                <div class="timeline">
                    <div th:each="exp : ${experiences}" class="column">
                        <div th:each="proj : ${exp.projects}" class="project-block">
                            <div class="title">
                                <h2><i class="fas fa-clipboard"></i> Name :</h2>
                            </div>
                            <div class="description">
                                <ul>
                                    <li><h6 th:each="p : ${proj.name}" th:text="${p}"></h6></li>
                                </ul>
                            </div>
                            <br>
                            <div class="title">
                                <h2><i class="fas fa-circle-notch"></i> Key Responsibilities :</h2>
                            </div>
                            <div class="description">
                                <ul>
                                    <li><h6 th:each="r : ${proj.responsibilities}" th:text="${r}"></h6></li>
                                </ul>
                            </div>
                            <br>
                            <div class="title">
                                <h2><i class="fas fa-trophy"></i> Achievements :</h2>
                            </div>
                            <div class="description">
                                <ul>
                                    <li><h6 th:each="a : ${proj.achievements}" th:text="${a}"></h6></li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <br>
        <div class="row">
            <!-- SKILL SET -->
            <div class="col-lg-6">
                <h5 class="sub-title-timeline"><i class="fas fa-star"></i> SKILL SET</h5>
                <div class="timeline">
                    <div th:each="skill : ${skills}" class="column">
                        <div class="description">
                            <h6 class="exp-role" th:text="${skill}"></h6>
                        </div>
                    </div>
                </div>
            </div>
            <!-- TECHNICAL SKILLS -->
            <div class="col-lg-6">
                <h5 class="sub-title-timeline"><i class="fas fa-cogs"></i> TECHNICAL SKILLS</h5>
                <div class="timeline">
                    <div th:each="skill : ${techSkills}" class="column">
                        <div class="title">
                            <h2><i class="fab fa-java"></i> Programming Languages :</h2>
                        </div>
                        <div class="description">
                            <h6 class="exp-role" th:text="${skill.programmingLanguages}"></h6>
                        </div>
                        <br>
                        <div class="title">
                            <h2><i class="fas fa-leaf"></i> Frameworks & Libraries :</h2>
                        </div>
                        <div class="description">
                            <h6 class="exp-role" th:text="${skill.frameworksAndLibraries}"></h6>
                        </div>
                        <br>
                        <div class="title">
                            <h2><i class="fas fa-network-wired"></i> APIs & Web Technologies :</h2>
                        </div>
                        <div class="description">
                            <h6 class="exp-role" th:text="${skill.apisAndWebTechnologies}"></h6>
                        </div>
                        <br>
                        <div class="title">
                            <h2><i class="fas fa-database"></i> Databases :</h2>
                        </div>
                        <div class="description">
                            <h6 class="exp-role" th:text="${skill.databases}"></h6>
                        </div>
                        <br>
                        <div class="title">
                            <h2><i class="fas fa-building"></i> Database Access & Migration :</h2>
                        </div>
                        <div class="description">
                            <h6 class="exp-role" th:text="${skill.dbAccess}"></h6>
                        </div>
                        <br>
                        <div class="title">
                            <h2><i class="fas fa-tools"></i> Tools & Platforms :</h2>
                        </div>
                        <div class="description">
                            <h6 class="exp-role" th:text="${skill.tools}"></h6>
                        </div>
                        <br>
                        <div class="title">
                            <h2><i class="fab fa-github"></i> Version Control :</h2>
                        </div>
                        <div class="description">
                            <h6 class="exp-role" th:text="${skill.versionControl}"></h6>
                        </div>
                        <br>
                        <div class="title">
                            <h2><i class="fas fa-paper-plane"></i> Testing :</h2>
                        </div>
                        <div class="description">
                            <h6 class="exp-role" th:text="${skill.testing}"></h6>
                        </div>
                        <br>
                        <div class="title">
                            <h2><i class="fas fa-users"></i> Project Management & Collaboration :</h2>
                        </div>
                        <div class="description">
                            <h6 class="exp-role" th:text="${skill.projectManagement}"></h6>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="row">
            <!-- LEARNING GOALS -->
            <div class="col-lg-6">
                <h5 class="sub-title-timeline"><i class="fas fa-lightbulb"></i> LEARNING GOALS</h5>
                <div class="timeline">
                    <div th:each="goal : ${learningGoals}" class="column">
                        <div class="row">
                            <div class="description">
                                <h6 th:text="${goal}"></h6>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- EDUCATION -->
            <div class="col-lg-6">
                <h5 class="sub-title-timeline"><i class="fas fa-graduation-cap"></i> EDUCATION</h5>
                <div class="timeline">
                    <div th:each="education : ${educationList}" class="column">
                        <div class="title">
                            <h2><i class="fas fa-school"></i> Degree :</h2>
                        </div>
                        <div class="description">
                            <h6 th:text="${education.degree}"></h6>
                        </div>
                        <br>
                        <div class="title">
                            <h2><i class="fas fa-university"></i> Institute :</h2>
                        </div>
                        <div class="description">
                            <h6 th:text="${education.institute}"></h6>
                        </div>
                        <br>
                        <div class="title">
                            <h2><i class="fas fa-map-marker-alt"></i> Location :</h2>
                        </div>
                        <div class="description">
                            <h6 th:text="${education.location}"></h6>
                        </div>
                        <br>
                        <div class="title">
                            <h2><i class="fas fa-calendar"></i> Year :</h2>
                        </div>
                        <div class="description">
                            <h6 th:text="${education.year}"></h6>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- // Holidays -->

<!-- footer block -->
    <div th:replace="~{footer :: footer}">...</div>
<!-- //footer block -->

<!-- Js scripts -->
<!-- move top -->
<button onclick="topFunction()" id="movetop" title="Go to top">
    <span class="fas fa-level-up-alt" aria-hidden="true"></span>
</button>
<script>
        // When the user scrolls down 20px from the top of the document, show the button
        window.onscroll = function () {
            scrollFunction()
        };

        function scrollFunction() {
            if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
                document.getElementById("movetop").style.display = "block";
            } else {
                document.getElementById("movetop").style.display = "none";
            }
        }

        // When the user clicks on the button, scroll to the top of the document
        function topFunction() {
            document.body.scrollTop = 0;
            document.documentElement.scrollTop = 0;
        }
    </script>
<!-- //move top -->

<!-- common jquery plugin -->
<script src="/assets/js/jquery-3.3.1.min.js"></script>
<!-- //common jquery plugin -->

<!-- counter-->
<script src="/assets/js/counter.js"></script>
<!-- //counter-->

<!-- theme switch js (light and dark)-->
<script src="/assets/js/theme-change.js"></script>
<!-- //theme switch js (light and dark)-->

<!-- MENU-JS -->
<script>
        $(window).on("scroll", function () {
            var scroll = $(window).scrollTop();

            if (scroll >= 80) {
                $("#site-header").addClass("nav-fixed");
            } else {
                $("#site-header").removeClass("nav-fixed");
            }
        });

        //Main navigation Active Class Add Remove
        $(".navbar-toggler").on("click", function () {
            $("header").toggleClass("active");
        });
        $(document).on("ready", function () {
            if ($(window).width() > 991) {
                $("header").removeClass("active");
            }
            $(window).on("resize", function () {
                if ($(window).width() > 991) {
                    $("header").removeClass("active");
                }
            });
        });
    </script>
<!-- //MENU-JS -->

<!-- disable body scroll which navbar is in active -->
<script>
        $(function () {
            $('.navbar-toggler').click(function () {
                $('body').toggleClass('noscroll');
            })
        });
    </script>
<!-- //disable body scroll which navbar is in active -->

<!-- bootstrap -->
<script src="/assets/js/bootstrap.min.js"></script>
<!-- //bootstrap -->
<!-- //Js scripts -->

<script>
    const btn = document.getElementById("changePicButton");
    const fileInput = document.getElementById("profileFile");
    let cropper;

    // Clicking "Change" should not scroll page
    btn.addEventListener("click", function (e) {
        e.preventDefault();

        // Prevent scroll jump
        fileInput.dispatchEvent(new MouseEvent("click", {
            bubbles: true,
            cancelable: true,
            view: window
        }));
    });

    fileInput.addEventListener("change", function (event) {
        const file = event.target.files[0];
        if (!file) return;

        const reader = new FileReader();
        reader.onload = function (e) {
            openCropperModal(e.target.result);
        };
        reader.readAsDataURL(file);
    });

    function openCropperModal(imageSrc) {
        const modalHtml = `
            <div id="cropperModal"
                 style="position:fixed;top:0;left:0;width:100%;height:100%;
                        background:#000000cc;display:flex;justify-content:center;
                        align-items:center;z-index:99999;">

                <div style="background:white;padding:20px;border-radius:10px;">
                    <img id="cropImage" src="${imageSrc}" style="max-width:400px;max-height:400px;" />

                    <div class="text-center mt-3">
                        <button onclick="cropAndUpload()"
                                style="padding:8px 20px;border:none;background:#28a745;color:white;border-radius:8px;">
                            Crop & Upload
                        </button>
                        <button onclick="closeCropperModal()"
                                style="padding:8px 20px;margin-left:10px;border:none;background:#dc3545;color:white;border-radius:8px;">
                            Cancel
                        </button>
                    </div>
                </div>
            </div>
        `;

        document.body.insertAdjacentHTML("beforeend", modalHtml);

        const img = document.getElementById("cropImage");
        cropper = new Cropper(img, {
            aspectRatio: 1,
            viewMode: 1,
            dragMode: "move",
            background: false,
            zoomable: true
        });
    }

    function closeCropperModal() {
        document.getElementById("cropperModal").remove();
        cropper.destroy();
    }

    // Upload cropped image
    function cropAndUpload() {
        if (!cropper) return;

        cropper.getCroppedCanvas({ width: 320, height: 320 })
               .toBlob((blob) => {
                   const formData = new FormData();
                   formData.append("file", blob, "profile.png");

                   fetch("/resume/upload-profile", {
                       method: "POST",
                       body: formData
                   })
                   .then(r => r.text())
                   .then(res => {
                       if (res === "ok") {
                           location.reload();
                       } else {
                           alert("Upload failed");
                       }
                   });
               }, "image/png");

        closeCropperModal();
    }
</script>

</body>

</html>